<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>多行文本框高度变化</title>
	<style type="text/css">
		*{margin: 0;padding: 0;}
		.msg{width:420px;height: auto;margin:70px auto; padding:20px;border:1px solid #ccc;}
		.msg div span{background-color: #c3c3c4;color: #fff;margin-right: 10px;padding: 0 4px;cursor: pointer;}
	</style>
</head>
<body>
	<div class="msg">
		<div><span>放大</span><span>缩小</span></div>
		<div><textarea id="content" rows="12" cols="50">多行文本框高度变化。多行文本框高度变化。多行文本框高度变化。多行文本框高度变化。
			多行文本框高度变化。多行文本框高度变化。多行文本框高度变化。多行文本框高度变化。多行文本框高度变化。
			多行文本框高度变化。多行文本框高度变化。多行文本框高度变化。多行文本框高度变化。
			多行文本框高度变化。
			</textarea>
		</div>
<script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>
<script type="text/javascript">
	/*$(function(){
		var $content = $("#content");
		$(".msg div>span:first").click(function(){
			if($content.height()<500){
			$content.height($content.height()+50);
		    }		
		});
		$(".msg div>span:last").click(function(){
			if($content.height()>50){
				$content.height($content.height()-50);
			}
		});
	});*/
	//改进，缺乏过渡缓冲效果，可采用animate
	$(function(){
		var $content = $("#content");
		$(".msg div>span:first").click(function(){
			//为了防止动画累积，需要判断是否处于动画中，来看是否追加动画
			if(!$content.is(":animated")){
			if($content.height()<500){
			$content.animate({height:"+=50"},400);
		    }
		    }		
		});
		$(".msg div>span:last").click(function(){
			if(!$content.is(":animated")){
			if($content.height()>50){
				$content.animate({height:"-=50"},400);
			}
		}
		});
	});
</script>
</body>
</html>